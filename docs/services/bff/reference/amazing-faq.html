<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-services/bff/reference/amazing-faq" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">BFF – FAQ | EmpowerNow Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://empowerid.github.io/empowernow_docs/img/empowernow-logo.svg"><meta data-rh="true" name="twitter:image" content="https://empowerid.github.io/empowernow_docs/img/empowernow-logo.svg"><meta data-rh="true" property="og:url" content="https://empowerid.github.io/empowernow_docs/docs/services/bff/reference/amazing-faq"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="BFF – FAQ | EmpowerNow Docs"><meta data-rh="true" name="description" content="General"><meta data-rh="true" property="og:description" content="General"><link data-rh="true" rel="icon" href="/empowernow_docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://empowerid.github.io/empowernow_docs/docs/services/bff/reference/amazing-faq"><link data-rh="true" rel="alternate" href="https://empowerid.github.io/empowernow_docs/docs/services/bff/reference/amazing-faq" hreflang="en"><link data-rh="true" rel="alternate" href="https://empowerid.github.io/empowernow_docs/docs/services/bff/reference/amazing-faq" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"BFF","item":"https://empowerid.github.io/empowernow_docs/docs/services/bff/"},{"@type":"ListItem","position":2,"name":"BFF – FAQ","item":"https://empowerid.github.io/empowernow_docs/docs/services/bff/reference/amazing-faq"}]}</script><link rel="stylesheet" href="/empowernow_docs/assets/css/styles.b212d4ba.css">
<script src="/empowernow_docs/assets/js/runtime~main.b7e4b38b.js" defer="defer"></script>
<script src="/empowernow_docs/assets/js/main.288af713.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/empowernow_docs/img/en-logo-light.png"><link rel="preload" as="image" href="/empowernow_docs/img/en-logo-dark.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/empowernow_docs/"><div class="navbar__logo"><img src="/empowernow_docs/img/en-logo-light.png" alt="EmpowerNow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/empowernow_docs/img/en-logo-dark.png" alt="EmpowerNow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/empowernow_docs/">Home</a><a class="navbar__item navbar__link" href="/empowernow_docs/docs/website_copy/solutions">Solutions</a><a class="navbar__item navbar__link" href="/empowernow_docs/docs/website_copy/products">Products</a><a class="navbar__item navbar__link" href="/empowernow_docs/docs/website_copy/pricing">Pricing</a><a class="navbar__item navbar__link" href="/empowernow_docs/docs/website_copy/trust">Trust</a><a class="navbar__item navbar__link" href="/empowernow_docs/docs/website_copy/resources">Resources</a><a class="navbar__item navbar__link" href="/empowernow_docs/docs/website_copy/company">Company</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/empowernow_docs/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/empowernow_docs/docs/services/crud-service/explanation/secrets-executive-overview">Secrets Overview</a><a class="navbar__item navbar__link" href="/empowernow_docs/docs/services/bff/explanation/executive-overview">BFF Overview</a><a class="navbar__item navbar__link" href="/empowernow_docs/docs/services/bff/explanation/bff-visual-guide">BFF Visual Guide</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/empowerID/empowernow_docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/empowernow_docs/docs/intro">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/empowernow_docs/docs/services/identity-fabric">Services</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/identity-fabric">Identity Fabric</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/empowernow_docs/docs/services/crud-service">CRUD Service</a><button aria-label="Expand sidebar category &#x27;CRUD Service&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/empowernow_docs/docs/services/bff">BFF</a><button aria-label="Collapse sidebar category &#x27;BFF&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/empowernow_docs/docs/services/bff/tutorials/spa-golden-path">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/empowernow_docs/docs/services/bff/how-to/spa-with-bff">How‑to</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/empowernow_docs/docs/services/bff/explanation/executive-overview">Explanations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/amazing-faq">Reference</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/amazing-faq">BFF – FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/bff-llm-pdp-enforcement">AI Chat Completions (PDP Enforcement)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/admin-config">Admin Configuration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/bff-idp-oauth-e2e">BFF + IdP OAuth (E2E)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/certificates-admin">Certificates &amp; Secrets (Admins)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/certificates-audit">Certificates &amp; Keys (Auditors)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/certificates-devops">Certificates, Keys, and Secrets (DevOps)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/config-overview">Configuration Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/configuration">Configuration Map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/empowerid-direct">EmpowerID direct API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/empowerid-endpoints-reference">empowerid_endpoints.yaml Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/environment-index">Environment Variables Index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/fapi-support">FAPI 2.0 Features — Verified Support and Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/faq">BFF FAQ (for SPA Developers)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/fips-140-3">FIPS 140‑3 Readiness — Verified Features, Gaps, and Rollout Steps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/frontend-errors">Frontend Errors and UX Patterns (401/403)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/health-metrics">Health / Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/idp-admin-proxy">IdP admin proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/idps-reference">idps.yaml Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/legacy-proxy">Legacy proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/legacy-services-reference">legacy_services.yaml Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/llm-routing-config">LLM Routing Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/llm-routing-pdp">LLM Routing PDP Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/logging-events">Logging, Events, and Publishers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/logging-reference">logging.yaml Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/observability">Observability (Metrics, Tracing, Health)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/pdp-mapping">PDP mapping (legacy)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/pdp-reference">pdp.yaml Reference (legacy)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/proxy-yaml-reference">YAML proxy (routes.yaml)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/qa-advanced">QA Appendix — Full Test Execution Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/qa-troubleshooting">QA — Troubleshooting Checklist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/routes-reference">routes-reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/session-binding-csrf">Session Binding and CSRF (Verified)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/settings-reference">settings.yaml Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/spa-pdp-usage">SPA PDP usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/streaming">Streaming / SSE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/traefik-forwardauth">Traefik ForwardAuth with the BFF (Verified)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/empowernow_docs/docs/services/bff/reference/ui-permissions">Permission Gating in the UI</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/empowernow_docs/docs/services/pdp">PDP</a><button aria-label="Expand sidebar category &#x27;PDP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/empowernow_docs/docs/services/experience">Experience</a><button aria-label="Expand sidebar category &#x27;Experience&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/empowernow_docs/docs/services/aria-shield">ARIA Shield</a><button aria-label="Expand sidebar category &#x27;ARIA Shield&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/empowernow_docs/docs/services/nowconnect">NowConnect</a><button aria-label="Expand sidebar category &#x27;NowConnect&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/empowernow_docs/docs/services/idp">IdP</a><button aria-label="Expand sidebar category &#x27;IdP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/empowernow_docs/docs/personas/faq">Personas</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/empowernow_docs/docs/marketing">Marketing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/empowernow_docs/docs/enablement/product-review-study-guide">Enablement</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/empowernow_docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Services</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/empowernow_docs/docs/services/bff"><span>BFF</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">BFF – FAQ</span></li></ul></nav><div class="theme-doc-markdown markdown"><header><h1>BFF – FAQ</h1></header><p>General</p>
<ul>
<li>What is the BFF? A backend that terminates OAuth, issues a session cookie, enforces authorization via a PDP, and proxies to internal services. See: BFF for SPAs overview.</li>
<li>Where are APIs defined? <code>ServiceConfigs/BFF/config/routes.yaml</code> (canonical <code>/api/...</code> paths → upstream services, <code>auth: session</code>).</li>
<li>Where are authorization rules mapped? <code>ServiceConfigs/BFF/config/pdp.yaml</code> under <code>endpoint_map</code> (path/method → resource/action/id_from/props).</li>
</ul>
<p>What is a BFF (and how ours differs from API gateways)?</p>
<ul>
<li>Definition: A Backend‑for‑Frontend is an app‑specific backend that owns auth flows (PKCE/PAR, sessions/CSRF), composes data from multiple services, enforces authorization via PDP, and exposes a stable, UX‑oriented API to the frontend.</li>
<li>Our BFF (this repo):<!-- -->
<ul>
<li>Auth: full OAuth login, session cookies, CSRF, optional DPoP/mTLS; ForwardAuth integration at edge; no tokens in the browser for same‑origin SPAs.</li>
<li>Authorization: calls a PDP (AuthZEN) using <code>pdp.yaml:endpoint_map</code>; caches decisions with separate allow/deny TTLs.</li>
<li>Composition: aggregates/orchestrates calls, handles streaming, uploads, background work, and error shaping.</li>
<li>Contracts: canonical <code>/api/&lt;app&gt;/**</code> via <code>routes.yaml</code>; custom endpoints where composition/security is required.</li>
</ul>
</li>
<li>vs API gateways (Kong/NGINX/Traefik):<!-- -->
<ul>
<li>Gateways excel at L7 routing, rate limiting, TLS, and header transforms. They don’t own app auth flows, sessions/CSRF, or PDP enforcement per endpoint.</li>
<li>In our stack, Traefik provides edge routing, TLS, security headers, and ForwardAuth. The BFF owns sessions, PDP checks, and business composition. Kong would overlap with Traefik in routing/middleware but still wouldn’t replace the BFF’s app logic.</li>
</ul>
</li>
</ul>
<p>Admins</p>
<ul>
<li>Where is configuration kept? <code>ServiceConfigs/BFF/config/*.yaml</code> including <code>routes.yaml</code>, <code>pdp.yaml</code>, <code>idps.yaml</code>, <code>logging.yaml</code>, and more.</li>
<li>How do I add a new API surface? Add a service in <code>routes.yaml:services</code>, then a route entry under <code>routes</code> with your <code>/api/&lt;app&gt;/*</code> path, <code>target_service</code>, <code>upstream_path</code>, methods, and <code>auth: session</code>.</li>
</ul>
<p>DevOps</p>
<ul>
<li>How is it run locally? <code>CRUDService/docker-compose-authzen4.yml</code> (stack with Traefik, BFF, Redis, PDP, IdP). Health checks: <code>http://localhost:8000/health</code> (BFF), <code>http://localhost:8080/ping</code> (Traefik).</li>
<li>How does Traefik authenticate requests? ForwardAuth hits BFF <code>/auth/forward</code> (verified by tests in TEST_EXECUTION_GUIDE). BFF validates session, then routes per <code>routes.yaml</code>.</li>
<li>Which PDP endpoints are exposed via BFF? See <code>routes.yaml</code> entries like <code>/access/v1/evaluation</code> (preserve path) to <code>pdp_service</code>.</li>
</ul>
<p>Frontend (SPA)</p>
<ul>
<li>How do SPAs integrate? Set <code>VITE_BFF_BASE_URL</code>, wrap with <code>AuthProvider</code> from <code>@empowernow/bff-auth-react</code>, and call APIs via <code>apiClient</code>/<code>fetchWithAuth</code> (cookies are sent automatically). Code verified in <code>pdp_ui/frontend</code> and <code>idp_ui/frontend</code>.</li>
<li>Do I send Authorization headers? No for same‑origin; the BFF uses httpOnly cookies. See: Integrate a React SPA with the BFF and SPA Golden Path.</li>
</ul>
<p>Backend Developers</p>
<ul>
<li>
<p>How are permissions checked? <code>core/permissions.py</code> builds context (roles, headers, query, body subset, correlation ID), <code>services/path_mapper.py</code> maps request to resource/action from <code>pdp.yaml:endpoint_map</code>, then <code>services/pdp_client.py</code> calls PDP and caches decisions.</p>
</li>
<li>
<p>Where are PDP endpoints configured? <code>pdp.yaml:endpoints</code> (e.g., <code>evaluation: &quot;v1/evaluation&quot;</code>). The client uses these for internal PDP calls.</p>
</li>
<li>
<p>When do I need a custom BFF endpoint instead of just <code>routes.yaml</code>?</p>
<ul>
<li>Use <code>routes.yaml</code> when:<!-- -->
<ul>
<li>You are proxying a single upstream with optional path templating (<code>upstream_path</code> with <code>{path}</code>), preserving the path, selecting methods, and applying built‑in auth modes (<code>auth: session | bearer | none</code>) and <code>streaming: true</code> for SSE.</li>
</ul>
</li>
<li>Create a custom BFF endpoint when you need any of the following (not expressible in <code>routes.yaml</code>):<!-- -->
<ul>
<li>Aggregation/orchestration: one client call fan‑outs to multiple services, merges results, or sequences calls transactionally.</li>
<li>Security transformations: token exchange, signing (DPoP, mTLS client assertions), presigned URL minting, step‑up auth, or minting/downscoping <code>Authorization</code> headers beyond pass‑through.</li>
<li>Request/response shaping: canonical validation, schema mapping, pagination unification, partial field selection, error normalization, or PII redaction.</li>
<li>Stateful flows: CSRF‑bound actions with server state, idempotency keys, retries/circuit breakers, or saga choreography.</li>
<li>Long‑running or background work: enqueue a job and return 202 + status polling endpoint.</li>
<li>Specialized streaming: upload/download mediation (multipart, chunking, encryption/AV scanning) or WebSockets.</li>
<li>Per‑user/business rate limits or caching that can’t be handled by Traefik’s generic middleware.</li>
</ul>
</li>
<li>Concrete examples in this repo:<!-- -->
<ul>
<li>Metrics sink handled directly by BFF: <code>POST /api/metrics</code> (see comment in <code>ServiceConfigs/BFF/config/routes.yaml</code>: “Metrics sink is handled directly by BFF code at /api/metrics (POST). No YAML proxy entry needed.”)</li>
<li>Auth router endpoints: <code>/auth/*</code> (login, callback, verify/forward, csrf, token) are implemented in the BFF, not proxied via <code>routes.yaml</code>.</li>
<li>Some SPA streaming endpoints are terminated by the BFF first (see Traefik labels in <code>CRUDService/docker-compose-authzen4.yml</code> for <code>bff-*-streaming</code>).</li>
</ul>
</li>
<li>Quick checklist:<!-- -->
<ul>
<li>Does the route require calling more than one upstream? → Custom endpoint.</li>
<li>Do you need to alter auth materials (mint/transform tokens or headers)? → Custom endpoint.</li>
<li>Do you need to validate or reshape request/response bodies beyond simple path rewrites? → Custom endpoint.</li>
<li>Is it WebSocket, presigned upload/download, or background job control? → Custom endpoint.</li>
<li>Otherwise, if it’s a straight proxy with optional SSE, prefer <code>routes.yaml</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Security &amp; Auditors</p>
<ul>
<li>What authorizes access? AuthZEN PDP evaluation using mapped resource/action and context. Deny or allow decisions may be cached with different TTLs (<code>pdp.yaml:cache.ttl_allow/ttl_deny</code>).</li>
<li>Where is direct PDP exposure controlled? Externally via BFF <code>routes.yaml</code> entries under PDP Service Routes (e.g., <code>/access/v1/evaluation</code>), internally via <code>pdp_client</code> (<code>v1/evaluation</code>).</li>
</ul>
<p>QA &amp; Testing</p>
<ul>
<li>How do we prove it works? Follow the QA Test Execution how‑to. Critical tests verify: Traefik ForwardAuth → BFF chain, middleware/routing, and real user workflows across IdP UI, Visual Designer, and PDP UI as documented in TEST_EXECUTION_GUIDE.</li>
</ul>
<p>Troubleshooting quick answers</p>
<ul>
<li>401 vs 403? 401 = unauthenticated (login). 403 = authenticated but PDP denied.</li>
<li>“/api/api/...” double prefix? Use the app wrappers which strip leading <code>/api</code> before calling <code>apiClient</code>.</li>
<li>DNS errors with <code>*.ocg.labs.empowernow.ai</code>? Add hosts file entries pointing to 127.0.0.1 for local.</li>
</ul>
<p>Pointers</p>
<ul>
<li>Overview: BFF for React SPAs — How It Works</li>
<li>Tutorial: React SPA + BFF — Golden Path</li>
<li>How‑to: Integrate a React SPA with the BFF</li>
<li>How‑to: Configure PDP (pdp.yaml)</li>
<li>Reference: QA — Troubleshooting Checklist</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/bff/reference/amazing-faq.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/empowernow_docs/docs/services/bff/explanation/security-model"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Security Model</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/empowernow_docs/docs/services/bff/reference/bff-llm-pdp-enforcement"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AI Chat Completions (PDP Enforcement)</div></a></nav></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/empowernow_docs/docs/intro">Getting Started</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Marketing</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/empowernow_docs/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/empowernow_docs/docs/website_copy/solutions">Solutions</a></li><li class="footer__item"><a class="footer__link-item" href="/empowernow_docs/docs/website_copy/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" href="/empowernow_docs/docs/website_copy/products">Products</a></li><li class="footer__item"><a class="footer__link-item" href="/empowernow_docs/docs/website_copy/trust">Trust</a></li><li class="footer__item"><a class="footer__link-item" href="/empowernow_docs/docs/website_copy/resources">Resources</a></li><li class="footer__item"><a class="footer__link-item" href="/empowernow_docs/docs/website_copy/company">Company</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/empowerID/empowernow_docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 EmpowerNow. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>