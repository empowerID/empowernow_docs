"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[5374],{28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>t});var s=r(96540);const i={},c=s.createContext(i);function o(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(c.Provider,{value:n},e.children)}},62874:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"services/bff/reference/configuration","title":"Configuration Map","description":"- Endpoints (BFF): /auth/login, /auth/callback, /auth/verify (alias /auth/forward), /auth/logout","source":"@site/docs/services/bff/reference/configuration.md","sourceDirName":"services/bff/reference","slug":"/services/bff/reference/configuration","permalink":"/empowernow_docs/docs/services/bff/reference/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/bff/reference/configuration.md","tags":[],"version":"current","frontMatter":{"title":"Configuration Map"},"sidebar":"tutorialSidebar","previous":{"title":"Configuration Overview","permalink":"/empowernow_docs/docs/services/bff/reference/config-overview"},"next":{"title":"EmpowerID direct API","permalink":"/empowernow_docs/docs/services/bff/reference/empowerid-direct"}}');var i=r(74848),c=r(28453);const o={title:"Configuration Map"},t=void 0,d={},l=[];function a(e){const n={code:"code",li:"li",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Endpoints (BFF): ",(0,i.jsx)(n.code,{children:"/auth/login"}),", ",(0,i.jsx)(n.code,{children:"/auth/callback"}),", ",(0,i.jsx)(n.code,{children:"/auth/verify"})," (alias ",(0,i.jsx)(n.code,{children:"/auth/forward"}),"), ",(0,i.jsx)(n.code,{children:"/auth/logout"})]}),"\n",(0,i.jsxs)(n.li,{children:["Env vars (selection):","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"BFF_ALLOWED_REDIRECT_HOSTS"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"BFF_COOKIE_DOMAIN"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"OIDC_SCOPES"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"BFF_DYNAMIC_CALLBACK"}),", ",(0,i.jsx)(n.code,{children:"BFF_DEFAULT_HOST"}),", ",(0,i.jsx)(n.code,{children:"BFF_DEFAULT_SCHEME"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Files:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"routes.yaml"})," (dynamic route/auth requirements)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"idps.yaml"})," (issuer, audience, JWKS)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Traefik ForwardAuth (key fields):","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"address: http://bff:8000/auth/forward"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"trustForwardHeader: true"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'authResponseHeaders: ["X-User-ID", "X-Session-ID", "X-Auth-Time"]'})," (plus ",(0,i.jsx)(n.code,{children:"Authorization"})," when used)"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:'authRequestHeaders: ["Cookie", "User-Agent", "X-Forwarded-For"]'})}),"\n"]}),"\n"]}),"\n"]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);