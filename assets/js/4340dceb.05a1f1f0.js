"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[6134],{28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>c});var s=i(96540);const o={},t=s.createContext(o);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(t.Provider,{value:n},e.children)}},45552:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"marketing/loopback-mcp/deep-dive","title":"deep-dive","description":"Loopback MCP deep dive: naming, catalogue, and routing","source":"@site/docs/marketing/loopback-mcp/deep-dive.md","sourceDirName":"marketing/loopback-mcp","slug":"/marketing/loopback-mcp/deep-dive","permalink":"/empowernow_docs/docs/marketing/loopback-mcp/deep-dive","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/marketing/loopback-mcp/deep-dive.md","tags":[],"version":"current","frontMatter":{}}');var o=i(74848),t=i(28453);const a={},c=void 0,r={},l=[{value:"Loopback MCP deep dive: naming, catalogue, and routing",id:"loopback-mcp-deep-dive-naming-catalogue-and-routing",level:2},{value:"Naming and identity",id:"naming-and-identity",level:3},{value:"Catalogue merge",id:"catalogue-merge",level:3},{value:"Routing &amp; Virtual servers",id:"routing--virtual-servers",level:3},{value:"Stability and observability",id:"stability-and-observability",level:3},{value:"Why this matters",id:"why-this-matters",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"loopback-mcp-deep-dive-naming-catalogue-and-routing",children:"Loopback MCP deep dive: naming, catalogue, and routing"}),"\n",(0,o.jsx)(n.h3,{id:"naming-and-identity",children:"Naming and identity"}),"\n",(0,o.jsxs)(n.p,{children:["Loopback MCP uses a namespaced identity for system tools: ",(0,o.jsx)(n.code,{children:"provider.instance.base"}),". This avoids collisions across tenants and preserves schema differences across providers. Workflow tools use ",(0,o.jsx)(n.code,{children:"workflow.<name>"}),"."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Cap and hash: names are compacted to \u226450 characters when generating; the ToolCatalogue enforces \u226464 characters"}),"\n",(0,o.jsx)(n.li,{children:"Fail\u2011fast duplicates: pre\u2011cap and final name collision policies"}),"\n",(0,o.jsxs)(n.li,{children:["Per\u2011system identity: add ",(0,o.jsx)(n.code,{children:"mcpInstance"})," (",(0,o.jsx)(n.code,{children:"provider"}),", ",(0,o.jsx)(n.code,{children:"instance"}),", ",(0,o.jsx)(n.code,{children:"instance_label"}),", ",(0,o.jsx)(n.code,{children:"env"}),")"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"catalogue-merge",children:"Catalogue merge"}),"\n",(0,o.jsxs)(n.p,{children:["Built\u2011ins from ",(0,o.jsx)(n.code,{children:"config/tools.yaml"}),", Loopback MCP tools, and optional external MCP endpoints are merged into the ToolCatalogue and exposed via ",(0,o.jsx)(n.code,{children:"/tools/list"})," and ",(0,o.jsx)(n.code,{children:"/tools/search"}),"."]}),"\n",(0,o.jsx)(n.mermaid,{value:"flowchart LR\r\n  Builtins[config/tools.yaml] --\x3e Cat[ToolCatalogue]\r\n  Loopback[Loopback MCP] --\x3e Cat\r\n  External[config/mcp_endpoints.yaml] --\x3e Cat\r\n  Cat --\x3e API[/tools/list\\n/tools/search/]"}),"\n",(0,o.jsx)(n.h3,{id:"routing--virtual-servers",children:"Routing & Virtual servers"}),"\n",(0,o.jsx)(n.p,{children:"Expose Loopback MCP through the BFF for secure access from UIs and agents:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["GET ",(0,o.jsx)(n.code,{children:"/api/crud/mcp/tools/list"})," \u2192 CRUD ",(0,o.jsx)(n.code,{children:"/mcp/tools/list"})]}),"\n",(0,o.jsxs)(n.li,{children:["POST ",(0,o.jsx)(n.code,{children:"/api/crud/mcp/jsonrpc"})," \u2192 CRUD ",(0,o.jsx)(n.code,{children:"/mcp/jsonrpc"})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"For clients that cap catalog size, use view\u2011scoped endpoints:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["GET ",(0,o.jsx)(n.code,{children:"/api/crud/mcp/{view}/tools/list"})," \u2192 CRUD ",(0,o.jsx)(n.code,{children:"/mcp/{view}/tools/list"})]}),"\n",(0,o.jsxs)(n.li,{children:["POST ",(0,o.jsx)(n.code,{children:"/api/crud/mcp/{view}/jsonrpc"})," \u2192 CRUD ",(0,o.jsx)(n.code,{children:"/mcp/{view}/jsonrpc"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"stability-and-observability",children:"Stability and observability"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Structured logs with correlation IDs and durations for list/invoke"}),"\n",(0,o.jsxs)(n.li,{children:["Optional OTEL in prod; disabled in tests/local via ",(0,o.jsx)(n.code,{children:"OTEL_DISABLED=true"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"why-this-matters",children:"Why this matters"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Deterministic catalogues remove UI jitter and client instability"}),"\n",(0,o.jsx)(n.li,{children:"Namespaced tools reflect real system boundaries cleanly"}),"\n",(0,o.jsx)(n.li,{children:"A single source of truth keeps engineering focused and reduces errors"}),"\n",(0,o.jsx)(n.li,{children:"Virtual servers fit client limits while preserving full catalog breadth"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);