"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[2118],{28453:(e,i,s)=>{s.d(i,{R:()=>d,x:()=>c});var n=s(96540);const r={},t=n.createContext(r);function d(e){const i=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(t.Provider,{value:i},e.children)}},88090:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"website_copy/product_membership","title":"Product \u2014 Membership Graph (Neo4j)","description":"Overview","source":"@site/docs/website_copy/product_membership.md","sourceDirName":"website_copy","slug":"/website_copy/product_membership","permalink":"/empowernow_docs/docs/website_copy/product_membership","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/website_copy/product_membership.md","tags":[],"version":"current","frontMatter":{}}');var r=s(74848),t=s(28453);const d={},c="Product \u2014 Membership Graph (Neo4j)",l={},o=[{value:"Overview",id:"overview",level:2},{value:"PIP endpoints (read-only)",id:"pip-endpoints-read-only",level:2},{value:"How PDP and IdP use it",id:"how-pdp-and-idp-use-it",level:2},{value:"Why it matters",id:"why-it-matters",level:2},{value:"Learn more",id:"learn-more",level:2}];function a(e){const i={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"product--membership-graph-neo4j",children:"Product \u2014 Membership Graph (Neo4j)"})}),"\n",(0,r.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(i.p,{children:"Membership is the authoritative graph for user\u2192agent delegations, capabilities, budgets/max_steps, and SaaS eligibility. It powers both issuance (IdP) and decisions (PDP) so constraints are consistent and explainable."}),"\n",(0,r.jsx)(i.h2,{id:"pip-endpoints-read-only",children:"PIP endpoints (read-only)"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Capabilities","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"GET /api/v1/pip/membership/capabilities?user_id={id}&agent_id={id}"})}),"\n",(0,r.jsxs)(i.li,{children:["Response: ",(0,r.jsx)(i.code,{children:'{ "capabilities": ["mcp:tool:..."] }'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["Delegations","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"GET /api/v1/pip/membership/delegations?user_id={id}&agent_id={id}&status=active"})}),"\n",(0,r.jsxs)(i.li,{children:["Response: list of edges with ",(0,r.jsx)(i.code,{children:"{delegation_id, status, max_steps, budget_usd, expires_at}"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["Data Scope","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"GET /api/v1/pip/membership/data-scope?subject_id={id}&resource_type={type}"})}),"\n",(0,r.jsxs)(i.li,{children:["Response: ",(0,r.jsx)(i.code,{children:'{ "tenant_ids": [...], "row_filter_sql": "tenant_id IN (\'...\')", "column_mask": {} }'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["Step-up","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"GET /api/v1/pip/membership/step-up?subject_id={id}"})}),"\n",(0,r.jsxs)(i.li,{children:["Response: ",(0,r.jsx)(i.code,{children:'{ "mfa_required": bool, "level": "strong" | "phishing_resistant" }'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["Identity chaining eligibility","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"GET /api/v1/pip/membership/chain-eligibility?user_id={id}&agent_id={id}&tool_id={id}"})}),"\n",(0,r.jsxs)(i.li,{children:["Response: ",(0,r.jsx)(i.code,{children:'[ { "audience": "...", "scopes": ["..."] } ]'})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"how-pdp-and-idp-use-it",children:"How PDP and IdP use it"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["PDP: enriches evaluations with ",(0,r.jsx)(i.code,{children:"data_scope"}),", ",(0,r.jsx)(i.code,{children:"step_up"}),", ",(0,r.jsx)(i.code,{children:"identity_chain"}),", and verifies capability for the requested tool/action"]}),"\n",(0,r.jsxs)(i.li,{children:["IdP: verifies active delegation and fetches ",(0,r.jsx)(i.code,{children:"budget"}),"/",(0,r.jsx)(i.code,{children:"max_steps"})," to embed in the ARIA Passport; can consult tool eligibility"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"why-it-matters",children:"Why it matters"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"A single source of truth reduces drift between issuance and enforcement"}),"\n",(0,r.jsx)(i.li,{children:"Graph queries keep constraints grounded in real relationships (tenants, projects, tool entitlements)"}),"\n",(0,r.jsx)(i.li,{children:"PIP endpoints are fast, simple, and safe to cache"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"learn-more",children:"Learn more"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Docs index: ",(0,r.jsx)(i.code,{children:"services/membership/index"})]}),"\n",(0,r.jsxs)(i.li,{children:["Reviewer's Guide: ",(0,r.jsx)(i.code,{children:"services/membership/explanation/reviewers-guide"})]}),"\n",(0,r.jsxs)(i.li,{children:["Schema & Endpoints: ",(0,r.jsx)(i.code,{children:"services/membership/reference/schema-and-endpoints"})]}),"\n",(0,r.jsxs)(i.li,{children:["Postman collection: ",(0,r.jsx)(i.code,{children:"services/membership/reference/postman/membership_review.postman_collection.json"})]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);