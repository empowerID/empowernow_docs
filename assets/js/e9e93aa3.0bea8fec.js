"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[6031],{28453:(e,i,s)=>{s.d(i,{R:()=>r,x:()=>l});var n=s(96540);const o={},c=n.createContext(o);function r(e){const i=n.useContext(c);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(c.Provider,{value:i},e.children)}},72444:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>t,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"services/crud-service/explanation/mcp-overview","title":"mcp-overview","description":"Loopback MCP in CRUDService \u2013 Overview","source":"@site/docs/services/crud-service/explanation/mcp-overview.md","sourceDirName":"services/crud-service/explanation","slug":"/services/crud-service/explanation/mcp-overview","permalink":"/empowernow_docs/docs/services/crud-service/explanation/mcp-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/crud-service/explanation/mcp-overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"LDAP connector idempotency","permalink":"/empowernow_docs/docs/services/crud-service/explanation/ldap-connector-idempotency"},"next":{"title":"mcp_tool_catalogue_naming","permalink":"/empowernow_docs/docs/services/crud-service/explanation/mcp_tool_catalogue_naming"}}');var o=s(74848),c=s(28453);const r={},l=void 0,t={},d=[{value:"Loopback MCP in CRUDService \u2013 Overview",id:"loopback-mcp-in-crudservice--overview",level:2},{value:"What you get",id:"what-you-get",level:3},{value:"Architecture",id:"architecture",level:3},{value:"Key concepts",id:"key-concepts",level:3},{value:"When to use Loopback MCP",id:"when-to-use-loopback-mcp",level:3},{value:"Quick links",id:"quick-links",level:3},{value:"Supported endpoints (CRUDService)",id:"supported-endpoints-crudservice",level:3},{value:"Supported BFF proxy routes",id:"supported-bff-proxy-routes",level:3},{value:"Observability",id:"observability",level:3},{value:"Limits and safeguards",id:"limits-and-safeguards",level:3}];function a(e){const i={code:"code",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",p:"p",ul:"ul",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h2,{id:"loopback-mcp-in-crudservice--overview",children:"Loopback MCP in CRUDService \u2013 Overview"}),"\n",(0,o.jsxs)(i.p,{children:["Loopback MCP makes your CRUDService a first\u2011class Model Context Protocol server without running any extra processes. It exposes tools that are generated directly from your ServiceConfigs (systems + workflows) and serves them via REST and JSON\u2011RPC endpoints under ",(0,o.jsx)(i.code,{children:"/mcp/*"}),". UIs, SDKs, and external agents can discover and invoke these tools securely through the BFF proxy."]}),"\n",(0,o.jsx)(i.h3,{id:"what-you-get",children:"What you get"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Deterministic, namespaced tool catalogue generated from ServiceConfigs"}),"\n",(0,o.jsx)(i.li,{children:"Single source of truth \u2013 no duplicate schemas or parallel MCP daemons"}),"\n",(0,o.jsx)(i.li,{children:"REST discovery and JSON\u2011RPC 2.0 invocation"}),"\n",(0,o.jsx)(i.li,{children:"Secure by design \u2013 scope\u2011gated discovery and invoke, compatible with PDP/BFF"}),"\n",(0,o.jsx)(i.li,{children:"Designed for scale \u2013 stable names, collision checks, publish caps, observability"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"architecture",children:"Architecture"}),"\n",(0,o.jsx)(i.mermaid,{value:"flowchart LR\r\n  A[ServiceConfigs<br/>systems + workflows] --\x3e G[Loopback Tool Generator]\r\n  G --\x3e|deterministic catalogue| CRUD[(CRUDService)]\r\n  CRUD --\x3e|GET /mcp/tools/list\\nGET /mcp/{view}/tools/list| D[[REST]]\r\n  CRUD --\x3e|POST /mcp/jsonrpc\\nPOST /mcp/{view}/jsonrpc| R[[JSON-RPC 2.0]]\r\n  BFF[EmpowerNow BFF] --\x3e|/api/crud/mcp/* proxy| CRUD\r\n  UI[Visual Designer / SDK] --\x3e|/api/crud/tools/* (merged catalogue)| BFF\r\n  AG[External MCP Clients] --\x3e|/api/crud/mcp/jsonrpc| BFF"}),"\n",(0,o.jsx)(i.h3,{id:"key-concepts",children:"Key concepts"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Tool generation: Derived from system commands and workflows. Input schemas come from your YAML (",(0,o.jsx)(i.code,{children:"required_params"}),", ",(0,o.jsx)(i.code,{children:"inputs"}),"), with permissive fallbacks to avoid blocking publication."]}),"\n",(0,o.jsxs)(i.li,{children:["Naming: Stable, namespaced ",(0,o.jsx)(i.code,{children:"provider.instance.base"})," for system tools (e.g., ",(0,o.jsx)(i.code,{children:"entra.cont.account.get_by_id"}),"), and ",(0,o.jsx)(i.code,{children:"workflow.<name>"})," for workflows. Enforced \u226450 characters with deterministic hash suffix when needed."]}),"\n",(0,o.jsxs)(i.li,{children:["Transport: Use ",(0,o.jsx)(i.code,{children:"GET /mcp/tools/list"})," for discovery or JSON\u2011RPC ",(0,o.jsx)(i.code,{children:"tools/list"}),". Invoke tools via JSON\u2011RPC ",(0,o.jsx)(i.code,{children:"tools/invoke"})," (alias ",(0,o.jsx)(i.code,{children:"tools/call"}),")."]}),"\n",(0,o.jsxs)(i.li,{children:["Security: Discovery requires ",(0,o.jsx)(i.code,{children:"mcp.tools.discovery"}),"; invocation requires ",(0,o.jsx)(i.code,{children:"mcp.tools.invoke"}),". Same PDP/auth patterns as CRUDService."]}),"\n",(0,o.jsxs)(i.li,{children:["Catalogue merge: CRUDService ",(0,o.jsx)(i.code,{children:"ToolCatalogue"})," merges built\u2011ins, loopback MCP, and any configured external MCP endpoints."]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"when-to-use-loopback-mcp",children:"When to use Loopback MCP"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"You want agents and UIs to call system commands/workflows without custom adapters"}),"\n",(0,o.jsx)(i.li,{children:"You need a consistent, searchable tool surface across providers/instances"}),"\n",(0,o.jsx)(i.li,{children:"You need stability across releases (deterministic tool names and schemas)"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"quick-links",children:"Quick links"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Quickstart: See How\u2011To \u2192 MCP Quickstart"}),"\n",(0,o.jsx)(i.li,{children:"API reference: See Reference \u2192 MCP API"}),"\n",(0,o.jsx)(i.li,{children:"Security & governance: See Reference \u2192 MCP Security & Governance"}),"\n",(0,o.jsx)(i.li,{children:"Tool catalogue & naming: See Explanation \u2192 MCP Tool Catalogue & Naming"}),"\n",(0,o.jsx)(i.li,{children:"Recipes & tutorials: See Tutorials \u2192 MCP Scenarios"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"supported-endpoints-crudservice",children:"Supported endpoints (CRUDService)"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["GET ",(0,o.jsx)(i.code,{children:"/mcp/tools/list"})," \u2013 returns ",(0,o.jsx)(i.code,{children:"{ tools: [...] }"})]}),"\n",(0,o.jsxs)(i.li,{children:["GET ",(0,o.jsx)(i.code,{children:"/mcp/{view}/tools/list"})," \u2013 view\u2011scoped discovery with pagination (",(0,o.jsx)(i.code,{children:"limit"}),", ",(0,o.jsx)(i.code,{children:"cursor"}),")"]}),"\n",(0,o.jsxs)(i.li,{children:["POST ",(0,o.jsx)(i.code,{children:"/mcp/jsonrpc"})," \u2013 JSON\u2011RPC 2.0 (",(0,o.jsx)(i.code,{children:"tools/list"}),", ",(0,o.jsx)(i.code,{children:"tools/invoke|tools/call"}),")"]}),"\n",(0,o.jsxs)(i.li,{children:["POST ",(0,o.jsx)(i.code,{children:"/mcp/{view}/jsonrpc"})," \u2013 JSON\u2011RPC constrained to a virtual view"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"supported-bff-proxy-routes",children:"Supported BFF proxy routes"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["GET ",(0,o.jsx)(i.code,{children:"/api/crud/mcp/tools/list"})," \u2192 CRUD ",(0,o.jsx)(i.code,{children:"/mcp/tools/list"})]}),"\n",(0,o.jsxs)(i.li,{children:["POST ",(0,o.jsx)(i.code,{children:"/api/crud/mcp/jsonrpc"})," \u2192 CRUD ",(0,o.jsx)(i.code,{children:"/mcp/jsonrpc"})]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"observability",children:"Observability"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Structured logs with correlation IDs and durations for discovery and invoke"}),"\n",(0,o.jsxs)(i.li,{children:["OTEL optional; disabled by default in tests/local env via ",(0,o.jsx)(i.code,{children:"OTEL_DISABLED=true"})]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"limits-and-safeguards",children:"Limits and safeguards"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Tool name length constraints; deterministic collision handling"}),"\n",(0,o.jsxs)(i.li,{children:["Publication caps via ",(0,o.jsx)(i.code,{children:"MCP_MAX_TOOLS"})]}),"\n",(0,o.jsxs)(i.li,{children:["Duplicate policy via ",(0,o.jsx)(i.code,{children:"MCP_DUPLICATE_POLICY"})," (fail\u2011fast recommended)"]}),"\n",(0,o.jsxs)(i.li,{children:["Virtual server config via ",(0,o.jsx)(i.code,{children:"MCP_VIRTUAL_SERVERS_FILE"}),"; use views to fit client catalog caps (~50\u201360)"]}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);