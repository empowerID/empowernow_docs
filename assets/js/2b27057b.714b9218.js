"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[7700],{14226:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"services/bff/explanation/executive-overview","title":"BFF \u2014 Executive Overview","description":"This is the business\u2011level overview of the EmpowerNow BFF (Backend for Frontend). Use it to explain the value to non\u2011technical stakeholders and why we standardized on this pattern.","source":"@site/docs/services/bff/explanation/executive-overview.md","sourceDirName":"services/bff/explanation","slug":"/services/bff/explanation/executive-overview","permalink":"/empowernow_docs/docs/services/bff/explanation/executive-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/bff/explanation/executive-overview.md","tags":[{"inline":true,"label":"service:bff","permalink":"/empowernow_docs/docs/tags/service-bff"},{"inline":true,"label":"audience:executive","permalink":"/empowernow_docs/docs/tags/audience-executive"},{"inline":true,"label":"type:explanation","permalink":"/empowernow_docs/docs/tags/type-explanation"}],"version":"current","sidebarPosition":1,"frontMatter":{"id":"executive-overview","title":"BFF \u2014 Executive Overview","sidebar_label":"Executive overview","sidebar_position":1,"tags":["service:bff","audience:executive","type:explanation"]},"sidebar":"tutorialSidebar","previous":{"title":"Uploads, Downloads, and Streaming via the BFF","permalink":"/empowernow_docs/docs/services/bff/how-to/uploads-downloads-streaming"},"next":{"title":"What a BFF Is (and Isn\'t)","permalink":"/empowernow_docs/docs/services/bff/explanation/overview"}}');var r=s(74848),t=s(28453);const o={id:"executive-overview",title:"BFF \u2014 Executive Overview",sidebar_label:"Executive overview",sidebar_position:1,tags:["service:bff","audience:executive","type:explanation"]},a=void 0,l={},c=[{value:"One\u2011sentence summary",id:"onesentence-summary",level:2},{value:"What problem it solves (and why customers need it)",id:"what-problem-it-solves-and-why-customers-need-it",level:2},{value:"Alternatives teams try (and trade\u2011offs)",id:"alternatives-teams-try-and-tradeoffs",level:2},{value:"Why our BFF is better",id:"why-our-bff-is-better",level:2},{value:"At a glance (visual)",id:"at-a-glance-visual",level:2},{value:"What ships with the BFF",id:"what-ships-with-the-bff",level:2},{value:"When to use what",id:"when-to-use-what",level:2},{value:"Talk track (2 minutes)",id:"talk-track-2-minutes",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"This is the business\u2011level overview of the EmpowerNow BFF (Backend for Frontend). Use it to explain the value to non\u2011technical stakeholders and why we standardized on this pattern."}),"\n",(0,r.jsx)(n.h2,{id:"onesentence-summary",children:"One\u2011sentence summary"}),"\n",(0,r.jsx)(n.p,{children:"The BFF is a safe, simple front door for our web apps: SPAs talk to one origin, while the BFF handles login, sessions, authorization, routing, and legacy integration \u2014 so sensitive tokens never live in the browser."}),"\n",(0,r.jsx)(n.h2,{id:"what-problem-it-solves-and-why-customers-need-it",children:"What problem it solves (and why customers need it)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security & compliance"}),": OAuth tokens remain server\u2011side. The browser uses an HttpOnly session cookie with built\u2011in CSRF protection. Consistent PDP authorization per endpoint."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Velocity & reliability"}),": 1 ms session lookups; cached authorization decisions; fewer cross\u2011origin hops and CORS issues."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simplicity for product teams"}),": a single base URL (",(0,r.jsx)(n.code,{children:"/api/**"}),") for SPAs; uniform errors, headers, and observability. Works the same in dev and prod."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Modernization with continuity"}),": fa\xe7ade over legacy C# services and first\u2011class EmpowerID endpoints so teams can ship features without big\u2011bang rewrites."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"alternatives-teams-try-and-tradeoffs",children:"Alternatives teams try (and trade\u2011offs)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OAuth in the browser to many APIs"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pros: quick to start."}),"\n",(0,r.jsx)(n.li,{children:"Cons: tokens in JS, CORS per service, inconsistent authorization, audit gaps."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gateway\u2011only (Traefik/Kong/Apigee) without a BFF"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pros: excellent L7 routing, TLS, rate limits."}),"\n",(0,r.jsx)(n.li,{children:"Cons: gateways don\u2019t own SPA sessions/CSRF or per\u2011user composition; still need app logic."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Per\u2011service bespoke proxies"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pros: localized optimizations."}),"\n",(0,r.jsx)(n.li,{children:"Cons: duplicated logic and policy drift; costly to operate."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GraphQL only"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pros: flexible data shaping."}),"\n",(0,r.jsx)(n.li,{children:"Cons: still needs secure sessions, PDP, CSRF, and legacy integration \u2014 which the BFF provides."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"why-our-bff-is-better",children:"Why our BFF is better"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Central session boundary"}),": secure HttpOnly cookie; CSRF enforced; tokens never enter the browser."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consistent authorization"}),": path/method \u2192 resource/action mapping via PDP with decision caching."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pragmatic routing"}),": canonical ",(0,r.jsx)(n.code,{children:"/api/<app>/**"})," via ",(0,r.jsx)(n.code,{children:"routes.yaml"}),"; optional edge ForwardAuth where it belongs; legacy proxy when needed."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"EmpowerID first\u2011class"}),": catalog\u2011driven workflows/WebUI with server\u2011side client\u2011credentials."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"at-a-glance-visual",children:"At a glance (visual)"}),"\n",(0,r.jsx)(n.mermaid,{value:'%%{init: {\'theme\':\'base\',\'themeVariables\':{\'lineColor\':\'#9ccfff\',\'textColor\':\'#e6f1ff\'}}}%%\r\nflowchart LR\r\n  subgraph Client["Client"]\r\n    SPA["Browser / SPA"]\r\n  end\r\n  subgraph Edge["Traefik"]\r\n    TR["Routers + security headers<br/>(ForwardAuth optional)"]\r\n  end\r\n  subgraph BFF["BFF"]\r\n    AUTH["/auth/* (login, callback, verify/forward, csrf, logout)"]\r\n    API["/api/** (proxy, composition)"]\r\n  end\r\n  subgraph Control["Control"]\r\n    IDP["IdP (OIDC)"]\r\n    PDP["PDP (AuthZ)"]\r\n    REDIS["Redis: sessions + PDP cache"]\r\n  end\r\n  subgraph Backends["Backends"]\r\n    SVC["Backend Services & EmpowerID"]\r\n  end\r\n  SPA --\x3e TR --\x3e AUTH\r\n  TR --\x3e API\r\n  BFF <--\x3e IDP\r\n  BFF <--\x3e PDP\r\n  BFF <--\x3e REDIS\r\n  API --\x3e SVC'}),"\n",(0,r.jsx)(n.h2,{id:"what-ships-with-the-bff",children:"What ships with the BFF"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Auth router"}),": ",(0,r.jsx)(n.code,{children:"/auth/login"}),", ",(0,r.jsx)(n.code,{children:"/auth/callback"}),", ",(0,r.jsx)(n.code,{children:"/auth/verify"})," (alias ",(0,r.jsx)(n.code,{children:"/auth/forward"}),"), ",(0,r.jsx)(n.code,{children:"/auth/logout"}),", ",(0,r.jsx)(n.code,{children:"/auth/csrf"}),", ",(0,r.jsx)(n.code,{children:"/auth/health"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SPA APIs"}),": same\u2011origin ",(0,r.jsx)(n.code,{children:"/api/**"})," handled by the BFF; JSON 401/403 with CORS for friendly UX."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Legacy proxy"}),": ",(0,r.jsx)(n.code,{children:"/api/v1/proxy/{service}/{path}"})," with circuit breaker, caching, and limits."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"EmpowerID direct"}),": ",(0,r.jsx)(n.code,{children:"/api/v1/empowerid/workflow"}),", ",(0,r.jsx)(n.code,{children:"/api/v1/empowerid/webui"}),", plus discovery endpoints."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"when-to-use-what",children:"When to use what"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"routes.yaml"})})," for canonical ",(0,r.jsx)(n.code,{children:"/api/<app>/**"})," proxies."]}),"\n",(0,r.jsxs)(n.li,{children:["Add a ",(0,r.jsx)(n.strong,{children:"custom BFF endpoint"})," when you need composition, token transformations (e.g., DPoP), body validation/reshaping, streaming, or background jobs."]}),"\n",(0,r.jsxs)(n.li,{children:["Use the ",(0,r.jsx)(n.strong,{children:"legacy proxy"})," for existing C# services you are migrating."]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.strong,{children:"EmpowerID direct"})," for workflows/WebUI calls; manage catalog in ",(0,r.jsx)(n.code,{children:"empowerid_endpoints.yaml"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"talk-track-2-minutes",children:"Talk track (2 minutes)"}),"\n",(0,r.jsx)(n.p,{children:"Start with the one\u2011sentence summary. Frame the problem (security + complexity + speed). Show the diagram and call out: one origin for SPAs, server\u2011side OAuth, PDP at the boundary, pragmatic routing, and room for legacy + EmpowerID. Close with the \u201cwhat ships\u201d list so stakeholders know what\u2019s ready\u2011to\u2011use today."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var i=s(96540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);