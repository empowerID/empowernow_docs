"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[2324],{28453:(e,t,s)=>{s.d(t,{R:()=>l,x:()=>o});var i=s(96540);const r={},n=i.createContext(r);function l(e){const t=i.useContext(n);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(n.Provider,{value:t},e.children)}},47207:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"services/bff/tutorials/llm-routing-quickstart","title":"LLM Routing Quickstart","description":"Prerequisites","source":"@site/docs/services/bff/tutorials/llm-routing-quickstart.md","sourceDirName":"services/bff/tutorials","slug":"/services/bff/tutorials/llm-routing-quickstart","permalink":"/empowernow_docs/docs/services/bff/tutorials/llm-routing-quickstart","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/bff/tutorials/llm-routing-quickstart.md","tags":[{"inline":true,"label":"service:bff","permalink":"/empowernow_docs/docs/tags/service-bff"},{"inline":true,"label":"area:llm","permalink":"/empowernow_docs/docs/tags/area-llm"},{"inline":true,"label":"feature:dynamic-model-routing","permalink":"/empowernow_docs/docs/tags/feature-dynamic-model-routing"}],"version":"current","frontMatter":{"title":"LLM Routing Quickstart","tags":["service:bff","area:llm","feature:dynamic-model-routing"]},"sidebar":"tutorialSidebar","previous":{"title":"Admin Quickstart","permalink":"/empowernow_docs/docs/services/bff/tutorials/bff-quickstart"},"next":{"title":"Integrate a React SPA with the BFF","permalink":"/empowernow_docs/docs/services/bff/how-to/spa-with-bff"}}');var r=s(74848),n=s(28453);const l={title:"LLM Routing Quickstart",tags:["service:bff","area:llm","feature:dynamic-model-routing"]},o=void 0,a={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Steps",id:"steps",level:2},{value:"Validate",id:"validate",level:2}];function d(e){const t={code:"code",h2:"h2",li:"li",ol:"ol",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["BFF with ",(0,r.jsx)(t.code,{children:"/chat/completions"})," enabled"]}),"\n",(0,r.jsx)(t.li,{children:"PDP reachable with model/egress constraints"}),"\n",(0,r.jsx)(t.li,{children:"Pricing map and (optional) receipts/budget holds configured"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"steps",children:"Steps"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Set pricing and budgets"}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'export LLM_PRICING_JSON=\'{"gpt-4o-mini":{"in":0.00015,"out":0.0006},"gpt-4.1":{"in":0.0005,"out":0.0015}}\'\r\nexport REDIS_URL=redis://redis:6379/0\n'})}),"\n",(0,r.jsxs)(t.ol,{start:"2",children:["\n",(0,r.jsx)(t.li,{children:"Call the endpoint"}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'curl -sS -X POST "$BFF/api/chat/completions" \\\r\n  -H "Content-Type: application/json" \\\r\n  --data \'{"model":"gpt-4.1","messages":[{"role":"user","content":"Summarize"}],"max_tokens":128}\' -i\n'})}),"\n",(0,r.jsx)(t.h2,{id:"validate",children:"Validate"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"x-aria-model-selected"})," present"]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"x-aria-model-rerouted: true|false"})}),"\n",(0,r.jsx)(t.li,{children:"402 = budget denial; 403 = policy denial"}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);