"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[4784],{6615:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"website_copy/product_registry","title":"Product \u2014 Tool Registry","description":"Overview","source":"@site/docs/website_copy/product_registry.md","sourceDirName":"website_copy","slug":"/website_copy/product_registry","permalink":"/empowernow_docs/docs/website_copy/product_registry","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/website_copy/product_registry.md","tags":[],"version":"current","frontMatter":{}}');var o=i(74848),t=i(28453);const r={},l="Product \u2014 Tool Registry",c={},d=[{value:"Overview",id:"overview",level:2},{value:"CURRENT/pin semantics",id:"currentpin-semantics",level:2},{value:"Read endpoints (hot path)",id:"read-endpoints-hot-path",level:2},{value:"Admin flows (write path)",id:"admin-flows-write-path",level:2},{value:"Signed pin (optional)",id:"signed-pin-optional",level:2},{value:"Why it matters",id:"why-it-matters",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"product--tool-registry",children:"Product \u2014 Tool Registry"})}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.p,{children:"The Tool Registry is a catalog of MCP/HTTP tools that enables verifiable request shaping. It provides hash\u2011pinned interfaces to tools so the control plane can enforce schema integrity with safe rollouts."}),"\n",(0,o.jsx)(n.h2,{id:"currentpin-semantics",children:"CURRENT/pin semantics"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Each tool has exactly one CURRENT version"}),"\n",(0,o.jsxs)(n.li,{children:["Pins include ",(0,o.jsx)(n.code,{children:"{ schema_version, schema_hash }"})," computed from canonical JSON"]}),"\n",(0,o.jsx)(n.li,{children:"Rollout grace windows allow accepting the previous version for a limited time"}),"\n",(0,o.jsxs)(n.li,{children:["ETag on GET responses enables conditional GETs (",(0,o.jsx)(n.code,{children:"If-None-Match"}),") to reduce load"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"read-endpoints-hot-path",children:"Read endpoints (hot path)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"GET /tools/{tool_id}"})," \u2192 ",(0,o.jsx)(n.code,{children:"{ id, endpoint, schema_version, schema_hash, previous_version, previous_hash, updated_at, grace_seconds, risk_tier, auth_mode, cost_per_call }"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Headers: ",(0,o.jsx)(n.code,{children:"ETag"}),", ",(0,o.jsx)(n.code,{children:"Cache-Control: public, max-age=60"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"HEAD /tools/{tool_id}"})," \u2192 ETag/Cache-Control headers"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"GET /tools/{tool_id}/pin"})," or ",(0,o.jsx)(n.code,{children:"/pins/{tool_id}"})," \u2192 minimal pin payload","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"?format=jws"})," returns a compact JWS when signing is configured"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"admin-flows-write-path",children:"Admin flows (write path)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"POST /tools"})," \u2192 create tool (auth required)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"POST /tools/{tool_id}/versions"})," \u2192 add a version (schema + endpoint); optional activate"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"POST /tools/{tool_id}/rollout"})," \u2192 flip CURRENT to a specific version atomically"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"signed-pin-optional",children:"Signed pin (optional)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Configure a signing key to produce pin JWS tokens"}),"\n",(0,o.jsx)(n.li,{children:"IdP can embed signed pins in Passports or Receipts can include the pin for audit"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"why-it-matters",children:"Why it matters"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Prevents schema \u201cshape drift\u201d by pinning tool contracts"}),"\n",(0,o.jsx)(n.li,{children:"Enables safe version flips without breaking agents (grace windows)"}),"\n",(0,o.jsx)(n.li,{children:"Caches efficiently on the read path (ETag) for high QPS"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"CTAs: See pin format \u2192 Read admin guide \u2192 View ETag example"})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var s=i(96540);const o={},t=s.createContext(o);function r(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);