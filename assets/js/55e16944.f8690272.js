"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[7872],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var s=r(96540);const o={},i=s.createContext(o);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),s.createElement(i.Provider,{value:n},e.children)}},85235:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"source_content/mcp_tool_recipes","title":"mcp_tool_recipes","description":"CRUDService MCP tools \u2013 recipes and real-world scenarios","source":"@site/docs/source_content/mcp_tool_recipes.md","sourceDirName":"source_content","slug":"/source_content/mcp_tool_recipes","permalink":"/empowernow_docs/docs/source_content/mcp_tool_recipes","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/source_content/mcp_tool_recipes.md","tags":[],"version":"current","frontMatter":{}}');var o=r(74848),i=r(28453);const t={},c=void 0,a={},l=[{value:"CRUDService MCP tools \u2013 recipes and real-world scenarios",id:"crudservice-mcp-tools--recipes-and-real-world-scenarios",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Quick discovery",id:"quick-discovery",level:2},{value:"View\u2011scoped discovery",id:"viewscoped-discovery",level:3},{value:"Core invoke pattern",id:"core-invoke-pattern",level:2},{value:"View\u2011scoped invoke",id:"viewscoped-invoke",level:3},{value:"Tools enabled today (examples)",id:"tools-enabled-today-examples",level:2},{value:"Simple checks",id:"simple-checks",level:2},{value:"Scenario 1 \u2013 Build a user context (manager, groups, devices)",id:"scenario-1--build-a-user-context-manager-groups-devices",level:2},{value:"Scenario 2 \u2013 Cross\u2011tenant correlation (Azure AD \u2194 Auth0)",id:"scenario-2--crosstenant-correlation-azure-ad--auth0",level:2},{value:"Scenario 3 \u2013 Group drill\u2011down",id:"scenario-3--group-drilldown",level:2},{value:"Workflows as tools (human\u2011friendly)",id:"workflows-as-tools-humanfriendly",level:2},{value:"Cursor usage",id:"cursor-usage",level:2}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h3,{id:"crudservice-mcp-tools--recipes-and-real-world-scenarios",children:"CRUDService MCP tools \u2013 recipes and real-world scenarios"}),"\n",(0,o.jsxs)(n.p,{children:["This guide shows how to trigger our MCP tools and compose them to accomplish end\u2011to\u2011end tasks. It uses the BFF MCP proxy (",(0,o.jsx)(n.code,{children:"/api/crud/mcp/jsonrpc"}),") and JSON\u2011RPC 2.0. You can run these with curl, Postman, or directly from Cursor (MCP client)."]}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Bearer token with scopes: ",(0,o.jsx)(n.code,{children:"mcp.tools.discovery"})," and ",(0,o.jsx)(n.code,{children:"mcp.tools.invoke"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["BFF MCP URL: ",(0,o.jsx)(n.code,{children:"https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc"})]}),"\n",(0,o.jsxs)(n.li,{children:["Content-Type: ",(0,o.jsx)(n.code,{children:"application/json"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"quick-discovery",children:"Quick discovery"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"List tools (JSON\u2011RPC):"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"1","method":"tools/list"}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq\n'})}),"\n",(0,o.jsx)(n.h3,{id:"viewscoped-discovery",children:"View\u2011scoped discovery"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["List tools in ",(0,o.jsx)(n.code,{children:"entra"})," view (JSON\u2011RPC):"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"11","method":"tools/list","params":{"limit":50}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/entra/jsonrpc | jq\n'})}),"\n",(0,o.jsx)(n.h2,{id:"core-invoke-pattern",children:"Core invoke pattern"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"tools/call"})," (alias for ",(0,o.jsx)(n.code,{children:"tools/invoke"}),"):"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{\r\n    "jsonrpc":"2.0","id":"2","method":"tools/call",\r\n    "params": {"name":"<TOOL_NAME>", "arguments": { /* tool args */ }}\r\n  }\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | jq\n'})}),"\n",(0,o.jsx)(n.h3,{id:"viewscoped-invoke",children:"View\u2011scoped invoke"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Invoke within ",(0,o.jsx)(n.code,{children:"systems"})," view (tools must be present in the view):"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{\r\n    "jsonrpc":"2.0","id":"12","method":"tools/call",\r\n    "params": {"name":"entra.cont.account.get_by_id", "arguments": {"SystemIdentifier": "00000000-0000-0000-0000-000000000000"}}\r\n  }\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/systems/jsonrpc | jq -r \'.result.content[0].text\' | jq\n'})}),"\n",(0,o.jsx)(n.h2,{id:"tools-enabled-today-examples",children:"Tools enabled today (examples)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Health: ",(0,o.jsx)(n.code,{children:"system.health"})," (also available as ",(0,o.jsx)(n.code,{children:"system_health"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:["Entra ID (Azure):","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"entra.cont.account.get_by_id"})," (args: ",(0,o.jsx)(n.code,{children:"SystemIdentifier"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"entra.cont.group.get_by_id"})," (args: ",(0,o.jsx)(n.code,{children:"SystemIdentifier"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"entra.cont.device.get_by_id"})," (args: ",(0,o.jsx)(n.code,{children:"device_id"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"entra.cont.device.list_user_registered"})," (args: ",(0,o.jsx)(n.code,{children:"SystemIdentifier"}),")"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Active Directory (on\u2011prem LDAP):","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ad.devdomain1.account.get_by_id"})," (args: ",(0,o.jsx)(n.code,{children:"SystemIdentifier"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ad.devdomain1.group.get_by_id"})," (args: ",(0,o.jsx)(n.code,{children:"SystemIdentifier"}),")"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Auth0:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"auth0.core.account.get_by_id"})," (args: ",(0,o.jsx)(n.code,{children:"SystemIdentifier"}),")"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["OpenLDAP:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ldap.av.account.get_by_dn"})," (args: ",(0,o.jsx)(n.code,{children:"DistinguishedName"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ldap.av.account.get_by_email"})," (args: ",(0,o.jsx)(n.code,{children:"Email"}),")"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Workflows (graph):","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"wf.entraid.user.view"})," (args: ",(0,o.jsx)(n.code,{children:"SystemIdentifier"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"wf.entraid.group.view"})," (args: ",(0,o.jsx)(n.code,{children:"SystemIdentifier"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"simple-checks",children:"Simple checks"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Health"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"10","method":"tools/call","params":{"name":"system.health","arguments":{"verbose":true}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | jq\n'})}),"\n",(0,o.jsx)(n.p,{children:"View\u2011scoped health:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"10a","method":"tools/call","params":{"name":"system.health","arguments":{"verbose":true}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/workflows/jsonrpc | jq -r \'.result.content[0].text\' | jq\n'})}),"\n",(0,o.jsx)(n.h2,{id:"scenario-1--build-a-user-context-manager-groups-devices",children:"Scenario 1 \u2013 Build a user context (manager, groups, devices)"}),"\n",(0,o.jsxs)(n.p,{children:["Goal: given a user id (",(0,o.jsx)(n.code,{children:"SystemIdentifier"}),"), fetch the user, their manager, their groups, and registered devices."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'USER_ID=00000000-0000-0000-0000-000000000000\r\n\r\n# 1) Entra user by ID\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"21","method":"tools/call","params":{"name":"entra.cont.account.get_by_id","arguments":{"SystemIdentifier":"\'"$USER_ID"\'"}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | tee /tmp/user.json | jq\r\n\r\n# 2) Manager (Entra)\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"22","method":"tools/call","params":{"name":"entra.cont.account.get_manager","arguments":{"SystemIdentifier":"\'"$USER_ID"\'"}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | tee /tmp/manager.json | jq\r\n\r\n# 3) Groups (Entra)\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"23","method":"tools/call","params":{"name":"entra.cont.account.list_groups","arguments":{"SystemIdentifier":"\'"$USER_ID"\'"}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | tee /tmp/groups.json | jq \'.[0:10]\'\r\n\r\n# 4) Registered devices (Entra)\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"24","method":"tools/call","params":{"name":"entra.cont.device.list_user_registered","arguments":{"SystemIdentifier":"\'"$USER_ID"\'"}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | tee /tmp/devices.json | jq \'.[0:10]\'\n'})}),"\n",(0,o.jsx)(n.h2,{id:"scenario-2--crosstenant-correlation-azure-ad--auth0",children:"Scenario 2 \u2013 Cross\u2011tenant correlation (Azure AD \u2194 Auth0)"}),"\n",(0,o.jsx)(n.p,{children:"Goal: fetch the Entra user and correlate with Auth0 by the same identifier."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'USER_ID=00000000-0000-0000-0000-000000000000\r\n\r\n# Entra user\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"31","method":"tools/call","params":{"name":"entra.cont.account.get_by_id","arguments":{"SystemIdentifier":"\'"$USER_ID"\'"}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | jq \'{id: .SystemIdentifier, upn: .UserPrincipalName}\'\r\n\r\n# Auth0 user (if same id is used)\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"32","method":"tools/call","params":{"name":"auth0.account.get_by_id","arguments":{"SystemIdentifier":"\'"$USER_ID"\'"}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | jq \'{id: .user_id, email: .email}\'\n'})}),"\n",(0,o.jsx)(n.h2,{id:"scenario-3--group-drilldown",children:"Scenario 3 \u2013 Group drill\u2011down"}),"\n",(0,o.jsx)(n.p,{children:"Goal: view group details then fetch its members (using list fragments where available)."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'GROUP_ID=00000000-0000-0000-0000-000000000000\r\n\r\n# Group details (Entra)\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"41","method":"tools/call","params":{"name":"entra.cont.group.get_by_id","arguments":{"SystemIdentifier":"\'"$GROUP_ID"\'"}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | jq \'{id: .SystemIdentifier, name: .Name, desc: .Description}\'\n'})}),"\n",(0,o.jsx)(n.h2,{id:"workflows-as-tools-humanfriendly",children:"Workflows as tools (human\u2011friendly)"}),"\n",(0,o.jsx)(n.p,{children:"Goal: use workflows that encapsulate multiple steps but expose a simple input schema."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# View user (workflow)\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"51","method":"tools/call","params":{"name":"wf.entraid.user.view","arguments":{"SystemIdentifier":"\'"$USER_ID"\'"}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | jq\r\n\r\n# View group (workflow)\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"52","method":"tools/call","params":{"name":"wf.entraid.group.view","arguments":{"SystemIdentifier":"\'"$GROUP_ID"\'"}}}\' \\\r\n  https://api.ocg.labs.empowernow.ai/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | jq\n'})}),"\n",(0,o.jsx)(n.h2,{id:"cursor-usage",children:"Cursor usage"}),"\n",(0,o.jsxs)(n.p,{children:["In Cursor, once ",(0,o.jsx)(n.code,{children:"crud-mcp"})," is configured, you can say:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u201cList tools from crud-mcp.\u201d"}),"\n",(0,o.jsx)(n.li,{children:"\u201cRun the CRUD MCP health check with verbose true.\u201d"}),"\n",(0,o.jsxs)(n.li,{children:["\u201cGiven user ",(0,o.jsx)(n.code,{children:"<id>"}),", fetch their groups and manager.\u201d"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Cursor will chain calls via ",(0,o.jsx)(n.code,{children:"tools/list"})," and ",(0,o.jsx)(n.code,{children:"tools/call"})," using the same endpoints above."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);