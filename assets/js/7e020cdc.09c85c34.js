"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[8074],{23245:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"services/crud-service/reference/mcp_api_reference","title":"mcp_api_reference","description":"MCP API Reference (CRUDService)","source":"@site/docs/services/crud-service/reference/mcp_api_reference.md","sourceDirName":"services/crud-service/reference","slug":"/services/crud-service/reference/mcp_api_reference","permalink":"/empowernow_docs/docs/services/crud-service/reference/mcp_api_reference","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/crud-service/reference/mcp_api_reference.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"loopback_mcp_release_notes","permalink":"/empowernow_docs/docs/services/crud-service/reference/loopback_mcp_release_notes"},"next":{"title":"mcp_faq","permalink":"/empowernow_docs/docs/services/crud-service/reference/mcp_faq"}}');var c=s(74848),o=s(28453);const i={},t=void 0,l={},d=[{value:"MCP API Reference (CRUDService)",id:"mcp-api-reference-crudservice",level:2},{value:"Authentication and scopes",id:"authentication-and-scopes",level:3},{value:"REST: GET /mcp/tools/list",id:"rest-get-mcptoolslist",level:3},{value:"REST: GET <code>/mcp/{view}/tools/list</code>",id:"rest-get-mcpviewtoolslist",level:3},{value:"JSON\u2011RPC 2.0: POST <code>/mcp/jsonrpc</code>",id:"jsonrpc-20-post-mcpjsonrpc",level:3},{value:"JSON\u2011RPC 2.0: POST <code>/mcp/{view}/jsonrpc</code>",id:"jsonrpc-20-post-mcpviewjsonrpc",level:3},{value:"Field semantics",id:"field-semantics",level:3},{value:"Transport through BFF",id:"transport-through-bff",level:3}];function a(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"mcp-api-reference-crudservice",children:"MCP API Reference (CRUDService)"}),"\n",(0,c.jsx)(n.h3,{id:"authentication-and-scopes",children:"Authentication and scopes"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Include ",(0,c.jsx)(n.code,{children:"Authorization: Bearer <token>"})]}),"\n",(0,c.jsxs)(n.li,{children:["Discovery requires scope: ",(0,c.jsx)(n.code,{children:"mcp.tools.discovery"})]}),"\n",(0,c.jsxs)(n.li,{children:["Invocation requires scope: ",(0,c.jsx)(n.code,{children:"mcp.tools.invoke"})]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"rest-get-mcptoolslist",children:"REST: GET /mcp/tools/list"}),"\n",(0,c.jsx)(n.p,{children:"Lists all available tools."}),"\n",(0,c.jsx)(n.p,{children:"Request"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"GET /mcp/tools/list\r\nAuthorization: Bearer <token>\n"})}),"\n",(0,c.jsx)(n.p,{children:"Response (shape)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\r\n  "tools": [\r\n    {\r\n      "name": "entra.cont.account.get_by_id",\r\n      "description": "...",\r\n      "inputSchema": { "type": "object", ... },\r\n      "source": "system|workflow",\r\n      "metadata": { "provider": "entra", "instance": "cont", "env": "..." },\r\n      "annotations": { ... },\r\n      "title": "optional UI title"\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.h3,{id:"rest-get-mcpviewtoolslist",children:["REST: GET ",(0,c.jsx)(n.code,{children:"/mcp/{view}/tools/list"})]}),"\n",(0,c.jsxs)(n.p,{children:["Lists tools filtered by a virtual view (e.g., ",(0,c.jsx)(n.code,{children:"entra"}),", ",(0,c.jsx)(n.code,{children:"workflows"}),"). Health tools are always included for connectivity checks."]}),"\n",(0,c.jsx)(n.p,{children:"Request"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"GET /mcp/{view}/tools/list?limit=<n>&cursor=<cursor>\r\nAuthorization: Bearer <token>\n"})}),"\n",(0,c.jsx)(n.p,{children:"Pagination"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"limit"})," \u2013 max items per page"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"cursor"})," \u2013 resume token from previous page"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"Response (shape)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\r\n  "tools": [ { "name": "..." } ],\r\n  "nextCursor": "base64-token-when-more"\r\n}\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.h3,{id:"jsonrpc-20-post-mcpjsonrpc",children:["JSON\u2011RPC 2.0: POST ",(0,c.jsx)(n.code,{children:"/mcp/jsonrpc"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"POST /mcp/jsonrpc\r\nAuthorization: Bearer <token>\r\nContent-Type: application/json\n"})}),"\n",(0,c.jsx)(n.p,{children:"Methods"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"tools/list"})," \u2192 ",(0,c.jsx)(n.code,{children:'{ "jsonrpc": "2.0", "id": "1", "result": { "tools": [...] } }'})]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"tools/invoke"})," (alias ",(0,c.jsx)(n.code,{children:"tools/call"}),") \u2192 executes a tool"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"tools/list example"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{"jsonrpc":"2.0","id":"1","method":"tools/list"}\n'})}),"\n",(0,c.jsx)(n.p,{children:"tools/invoke example (system)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\r\n  "jsonrpc": "2.0",\r\n  "id": "2",\r\n  "method": "tools/invoke",\r\n  "params": {\r\n    "name": "entra.cont.account.get_by_id",\r\n    "arguments": { "SystemIdentifier": "00000000-0000-0000-0000-000000000000" }\r\n  }\r\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"tools/invoke example (workflow)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\r\n  "jsonrpc": "2.0",\r\n  "id": "3",\r\n  "method": "tools/invoke",\r\n  "params": {\r\n    "name": "wf.entraid.user.view",\r\n    "arguments": { "SystemIdentifier": "00000000-0000-0000-0000-000000000000" }\r\n  }\r\n}\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.h3,{id:"jsonrpc-20-post-mcpviewjsonrpc",children:["JSON\u2011RPC 2.0: POST ",(0,c.jsx)(n.code,{children:"/mcp/{view}/jsonrpc"})]}),"\n",(0,c.jsxs)(n.p,{children:["Same methods and payloads as ",(0,c.jsx)(n.code,{children:"/mcp/jsonrpc"}),", but constrained to the specified virtual view. Invoking a tool outside the view returns JSON\u2011RPC ",(0,c.jsx)(n.code,{children:"-32601"})," (not found)."]}),"\n",(0,c.jsx)(n.p,{children:"Request"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"POST /mcp/{view}/jsonrpc\r\nAuthorization: Bearer <token>\r\nContent-Type: application/json\n"})}),"\n",(0,c.jsx)(n.p,{children:"tools/list with pagination"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{"jsonrpc":"2.0","id":"1","method":"tools/list","params":{"limit":50,"cursor":null}}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Invoke result shape (text content)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\r\n  "jsonrpc": "2.0",\r\n  "id": "2",\r\n  "result": {\r\n    "content": [ { "type": "text", "text": "{...}" } ]\r\n  }\r\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Errors"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Missing scope \u2192 HTTP 403 or JSON\u2011RPC error ",(0,c.jsx)(n.code,{children:"-32001"})]}),"\n",(0,c.jsxs)(n.li,{children:["Unknown method \u2192 ",(0,c.jsx)(n.code,{children:"-32601"})]}),"\n",(0,c.jsxs)(n.li,{children:["Validation errors \u2192 JSON\u2011RPC error with details in ",(0,c.jsx)(n.code,{children:"data"})]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"field-semantics",children:"Field semantics"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"name"})," \u2013 deterministic tool identity. System: ",(0,c.jsx)(n.code,{children:"provider.instance.base"}),". Workflow: ",(0,c.jsx)(n.code,{children:"workflow.<name>"}),"."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"inputSchema"})," \u2013 JSON Schema for tool inputs, derived from YAML or permissive."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"source"})," \u2013 ",(0,c.jsx)(n.code,{children:"system"})," or ",(0,c.jsx)(n.code,{children:"workflow"}),"."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"metadata"})," \u2013 optional allow\u2011listed metadata (",(0,c.jsx)(n.code,{children:"provider"}),", ",(0,c.jsx)(n.code,{children:"instance"}),", ",(0,c.jsx)(n.code,{children:"env"}),")."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"annotations"})," \u2013 optional UI/search hints (tags, titles)."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"transport-through-bff",children:"Transport through BFF"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Use ",(0,c.jsx)(n.code,{children:"https://<bff-host>/api/crud/mcp/jsonrpc"})," for JSON\u2011RPC and ",(0,c.jsx)(n.code,{children:".../mcp/tools/list"})," for REST."]}),"\n",(0,c.jsxs)(n.li,{children:["For virtual servers, use ",(0,c.jsx)(n.code,{children:"https://<bff-host>/api/crud/mcp/{view}/jsonrpc"})," and ",(0,c.jsx)(n.code,{children:".../mcp/{view}/tools/list"}),"."]}),"\n",(0,c.jsx)(n.li,{children:"Some clients cap visible tools (~50\u201360). Configure per\u2011view URLs for those clients to scope catalogs."}),"\n",(0,c.jsx)(n.li,{children:"BFF enforces session auth; CRUDService enforces scopes."}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>t});var r=s(96540);const c={},o=r.createContext(c);function i(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);