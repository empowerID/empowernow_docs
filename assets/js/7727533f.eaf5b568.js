"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[8255],{28453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>i});var o=n(96540);const s={},t=o.createContext(s);function c(e){const r=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),o.createElement(t.Provider,{value:r},e.children)}},95356:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>c,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"services/crud-service/how-to/mcp-cursor-integration","title":"mcp-cursor-integration","description":"Cursor integration for Loopback MCP","source":"@site/docs/services/crud-service/how-to/mcp-cursor-integration.md","sourceDirName":"services/crud-service/how-to","slug":"/services/crud-service/how-to/mcp-cursor-integration","permalink":"/empowernow_docs/docs/services/crud-service/how-to/mcp-cursor-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/crud-service/how-to/mcp-cursor-integration.md","tags":[],"version":"current","frontMatter":{}}');var s=n(74848),t=n(28453);const c={},i=void 0,a={},l=[{value:"Cursor integration for Loopback MCP",id:"cursor-integration-for-loopback-mcp",level:2},{value:"Configure Cursor",id:"configure-cursor",level:3},{value:"Verify",id:"verify",level:3},{value:"Example commands",id:"example-commands",level:3},{value:"Scopes",id:"scopes",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3}];function d(e){const r={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h2,{id:"cursor-integration-for-loopback-mcp",children:"Cursor integration for Loopback MCP"}),"\n",(0,s.jsx)(r.p,{children:"Connect Cursor (or any MCP\u2011capable client) to CRUDService via the BFF using HTTP JSON\u2011RPC."}),"\n",(0,s.jsx)(r.h3,{id:"configure-cursor",children:"Configure Cursor"}),"\n",(0,s.jsxs)(r.p,{children:["Create or edit ",(0,s.jsx)(r.code,{children:"~/.cursor/mcp.json"})," (Windows: ",(0,s.jsx)(r.code,{children:"%USERPROFILE%\\.cursor\\mcp.json"}),"):"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\r\n  "mcpServers": {\r\n    "crud-mcp": {\r\n      "type": "streamable-http",\r\n      "url": "https://<bff-host>/api/crud/mcp/jsonrpc",\r\n      "headers": {\r\n        "Authorization": "Bearer <ACCESS_TOKEN_WITH_scopes_mcp.tools.discovery_mcp.tools.invoke>",\r\n        "Content-Type": "application/json"\r\n      }\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,s.jsx)(r.p,{children:"For clients with catalog caps, add view\u2011scoped servers:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\r\n  "mcpServers": {\r\n    "crud-mcp-entra": {\r\n      "type": "streamable-http",\r\n      "url": "https://<bff-host>/api/crud/mcp/entra/jsonrpc",\r\n      "headers": { "Authorization": "Bearer <TOKEN>", "Content-Type": "application/json" }\r\n    },\r\n    "crud-mcp-workflows": {\r\n      "type": "streamable-http",\r\n      "url": "https://<bff-host>/api/crud/mcp/workflows/jsonrpc",\r\n      "headers": { "Authorization": "Bearer <TOKEN>", "Content-Type": "application/json" }\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"verify",children:"Verify"}),"\n",(0,s.jsxs)(r.p,{children:["Open the MCP panel in Cursor and enable ",(0,s.jsx)(r.code,{children:"crud-mcp"}),", then ask:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\u201cList tools from crud-mcp.\u201d \u2192 sends ",(0,s.jsx)(r.code,{children:"tools/list"})]}),"\n",(0,s.jsxs)(r.li,{children:["\u201cRun the CRUD MCP health check with verbose true.\u201d \u2192 sends ",(0,s.jsx)(r.code,{children:"tools/call"})," to ",(0,s.jsx)(r.code,{children:"system.health"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"example-commands",children:"Example commands"}),"\n",(0,s.jsx)(r.p,{children:"List tools:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'curl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"1","method":"tools/list"}\' \\\r\n  https://<bff-host>/api/crud/mcp/jsonrpc | jq\n'})}),"\n",(0,s.jsx)(r.p,{children:"Invoke a tool:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'USER_ID=00000000-0000-0000-0000-000000000000\r\ncurl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"2","method":"tools/call","params":{"name":"entra.cont.account.get_by_id","arguments":{"SystemIdentifier":"\'"$USER_ID"\'"}}}\' \\\r\n  https://<bff-host>/api/crud/mcp/jsonrpc | jq -r \'.result.content[0].text\' | jq\n'})}),"\n",(0,s.jsx)(r.p,{children:"Within a view:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'curl -s -H "Authorization: Bearer $TOKEN" -H "Content-Type: application/json" \\\r\n  -d \'{"jsonrpc":"2.0","id":"2","method":"tools/call","params":{"name":"entra.cont.account.get_by_id","arguments":{"SystemIdentifier":"\'"$USER_ID"\'"}}}\' \\\r\n  https://<bff-host>/api/crud/mcp/entra/jsonrpc | jq -r \'.result.content[0].text\' | jq\n'})}),"\n",(0,s.jsx)(r.h3,{id:"scopes",children:"Scopes"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"mcp.tools.discovery"})," for listing"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"mcp.tools.invoke"})," for invoking"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"403 responses \u2192 missing scopes on token"}),"\n",(0,s.jsx)(r.li,{children:"CSRF errors \u2192 ensure URL points to the BFF proxy"}),"\n",(0,s.jsx)(r.li,{children:"Empty catalogue \u2192 verify ServiceConfigs and catalogue refresh in CRUDService"}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);