"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[703],{5757:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"services/bff/reference/idps-reference","title":"idps.yaml Reference","description":"Fields per IdP entry","source":"@site/docs/services/bff/reference/idps-reference.md","sourceDirName":"services/bff/reference","slug":"/services/bff/reference/idps-reference","permalink":"/empowernow_docs/docs/services/bff/reference/idps-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/bff/reference/idps-reference.md","tags":[],"version":"current","frontMatter":{"title":"idps.yaml Reference"},"sidebar":"tutorialSidebar","previous":{"title":"IdP admin proxy","permalink":"/empowernow_docs/docs/services/bff/reference/idp-admin-proxy"},"next":{"title":"Legacy proxy","permalink":"/empowernow_docs/docs/services/bff/reference/legacy-proxy"}}');var i=r(74848),c=r(28453);const o={title:"idps.yaml Reference"},t=void 0,d={},l=[];function a(e){const n={a:"a",code:"code",li:"li",p:"p",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Fields per IdP entry"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"name: logical label"}),"\n",(0,i.jsx)(n.li,{children:"provider: canonical alias used for identity/ARNs (optional; falls back to name)"}),"\n",(0,i.jsx)(n.li,{children:"issuer: OIDC issuer URL"}),"\n",(0,i.jsxs)(n.li,{children:["audience: expected ",(0,i.jsx)(n.code,{children:"aud"})," for this context/service"]}),"\n",(0,i.jsx)(n.li,{children:"jwks_url: JWKS endpoint for signature validation"}),"\n",(0,i.jsx)(n.li,{children:"introspection_url, token_url: optional OAuth endpoints"}),"\n",(0,i.jsx)(n.li,{children:"client_id, client_secret: client credentials"}),"\n",(0,i.jsx)(n.li,{children:"enable_token_exchange: boolean"}),"\n",(0,i.jsx)(n.li,{children:"api_key: optional"}),"\n",(0,i.jsxs)(n.li,{children:["claims_mapping:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"roles: sources for role claims (e.g., roles, groups)"}),"\n",(0,i.jsxs)(n.li,{children:["permissions: sources for permissions; supports ",(0,i.jsx)(n.code,{children:"format: space_delimited"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Examples"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["empowernow \u2192 audience ",(0,i.jsx)(n.a,{href:"https://idp.ocg.labs.empowernow.ai/api/admin",children:"https://idp.ocg.labs.empowernow.ai/api/admin"})," (provider: empowernow)"]}),"\n",(0,i.jsxs)(n.li,{children:["empowernow-crud \u2192 audience ",(0,i.jsx)(n.a,{href:"https://crud-service:8000",children:"https://crud-service:8000"})," (provider: empowernow)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"ARN/provider notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["When constructing unique identities (ARNs), services prefer the IdP entry ",(0,i.jsx)(n.code,{children:"provider"})," field to choose the provider segment. If ",(0,i.jsx)(n.code,{children:"provider"})," is omitted, the ",(0,i.jsx)(n.code,{children:"name"})," is used (backward compatible)."]}),"\n",(0,i.jsxs)(n.li,{children:["This stabilizes identities across multiple IdP entries that share the same issuer but differ by audience. For example, both ",(0,i.jsx)(n.code,{children:"empowernow"})," and ",(0,i.jsx)(n.code,{children:"empowernow-crud"})," yield ",(0,i.jsx)(n.code,{children:"auth:account:empowernow:{sub}"}),"."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>t});var s=r(96540);const i={},c=s.createContext(i);function o(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);