"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[3602],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var r=s(96540);const i={},d=r.createContext(i);function t(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(d.Provider,{value:n},e.children)}},90581:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"services/crud-service/secrets/index","title":"Secrets Platform","description":"This section describes the EmpowerNow Secrets Platform end\u2011to\u2011end, from executive overview down to API details and ops runbooks.","source":"@site/docs/services/crud-service/secrets/index.md","sourceDirName":"services/crud-service/secrets","slug":"/services/crud-service/secrets/","permalink":"/empowernow_docs/docs/services/crud-service/secrets/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/crud-service/secrets/index.md","tags":[],"version":"current","frontMatter":{"title":"Secrets Platform","sidebar_label":"Overview"},"sidebar":"tutorialSidebar","previous":{"title":"Enable mTLS (Dev & Prod)","permalink":"/empowernow_docs/docs/services/crud-service/how-to/enable-mtls"},"next":{"title":"Executive overview","permalink":"/empowernow_docs/docs/services/crud-service/secrets/executive-overview"}}');var i=s(74848),d=s(28453);const t={title:"Secrets Platform",sidebar_label:"Overview"},l=void 0,c={},o=[];function a(e){const n={code:"code",hr:"hr",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This section describes the EmpowerNow Secrets Platform end\u2011to\u2011end, from executive overview down to API details and ops runbooks."}),"\n",(0,i.jsx)(n.p,{children:"Suggested reading order:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Executive overview"}),"\n",(0,i.jsx)(n.li,{children:"Architecture and design"}),"\n",(0,i.jsx)(n.li,{children:"Canonical URIs and policy model"}),"\n",(0,i.jsx)(n.li,{children:"Providers (OpenBao/HashiCorp/YAML dev)"}),"\n",(0,i.jsx)(n.li,{children:"Security model (grants, sender binding, anti\u2011replay)"}),"\n",(0,i.jsx)(n.li,{children:"Operational visibility (audits, metrics, traces)"}),"\n",(0,i.jsx)(n.li,{children:"Admin how\u2011to (setup, rotate, backup/restore)"}),"\n",(0,i.jsx)(n.li,{children:"Developer guide (URIs, SDK, API)"}),"\n",(0,i.jsx)(n.li,{children:"API reference"}),"\n",(0,i.jsx)(n.li,{children:"Troubleshooting and runbooks"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"Business summary (for CISO)"}),"\n",(0,i.jsx)(n.p,{children:"The Secrets Platform centralizes secret access, enforces policy before use, and emits auditable events. It reduces risk by removing secrets from app code, binding usage to callers, and enabling fast, safe rotation."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Risk reduction"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Short\u2011lived, purpose\u2011bound grants reduce blast radius"}),"\n",(0,i.jsx)(n.li,{children:"Sender binding (DPoP/mTLS) thwarts token replay"}),"\n",(0,i.jsx)(n.li,{children:"Canonical URIs + tenant guard prevent cross\u2011tenant leakage"}),"\n",(0,i.jsxs)(n.li,{children:["Non\u2011leaky audits (HMAC ",(0,i.jsx)(n.code,{children:"resource_ref"}),") support investigations"]}),"\n",(0,i.jsx)(n.li,{children:"Versioned providers enable undelete and controlled destroy"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"System boundary and data flows"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Callers \u2192 VaultService (PEP) \u2192 SecretPolicyService (PDP) \u2192 Providers (OpenBao/HashiCorp/YAML)"}),"\n",(0,i.jsx)(n.li,{children:"Kafka/Loki/OTel carry audits, logs, metrics, and traces"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Control ownership"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Policy definitions and approvals: Security / CISO office"}),"\n",(0,i.jsx)(n.li,{children:"Operations and provider lifecycle: Platform team"}),"\n",(0,i.jsx)(n.li,{children:"Application integration and pointers: Product teams"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Compliance mapping (indicative)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"SOC2 CC6, CC7; ISO 27001 A.8, A.9, A.12; NIST 800\u201153 AC\u20113, AU\u20112, AU\u201112, SC\u201123"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"Supported providers and versions (for Admin)"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Provider"}),(0,i.jsx)(n.th,{children:"Engine"}),(0,i.jsx)(n.th,{children:"Versioning"}),(0,i.jsx)(n.th,{children:"Writes"}),(0,i.jsx)(n.th,{children:"Deletes"}),(0,i.jsx)(n.th,{children:"Undelete"}),(0,i.jsx)(n.th,{children:"Destroy versions"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"OpenBao"}),(0,i.jsx)(n.td,{children:"KVv2"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Soft"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"HashiCorp Vault"}),(0,i.jsx)(n.td,{children:"KVv2"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Soft"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"YAML (dev only)"}),(0,i.jsx)(n.td,{children:"N/A"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Yes (dev/test)"}),(0,i.jsx)(n.td,{children:"Yes (dev/test)"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Prerequisites and flags"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ENABLE_AUTHORIZATION=true (enable PDP checks)"}),"\n",(0,i.jsxs)(n.li,{children:["SECRETS_API_REQUIRE_AUTH=true (require auth to ",(0,i.jsx)(n.code,{children:"/api/secrets/*"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"SECRETS_ENFORCE_SCOPES=true (enforce OAuth scopes)"}),"\n",(0,i.jsx)(n.li,{children:"TENANT_ID, TENANT_ALLOWED_MOUNTS (URI guard)"}),"\n",(0,i.jsx)(n.li,{children:"Provider config: VAULT_URL, VAULT_TOKEN (or AppRole), YAML_VAULT_PATH"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Key links"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Setup: ./07-admin-howto.md"}),"\n",(0,i.jsx)(n.li,{children:"API reference: ../reference/secrets-api.md"}),"\n",(0,i.jsx)(n.li,{children:"Authorization model (PDP): ./11-authorization-model-authzen.md"}),"\n",(0,i.jsx)(n.li,{children:"Auditing & logging: ./12-auditing-logging.md"}),"\n",(0,i.jsx)(n.li,{children:"Automation & workflows: ./13-automation-execute-workflows-agents.md"}),"\n",(0,i.jsx)(n.li,{children:"Rotation: ./14-rotation.md"}),"\n",(0,i.jsx)(n.li,{children:"DevOps guide (Docker/K8s/GitHub Actions): ./SECRETS_DEVOPS_GUIDE.md"}),"\n",(0,i.jsx)(n.li,{children:"OpenBao HA (production): ./SECRETS_HA_OPENBAO.md"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"Test scope and environments (for QA)"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Area"}),(0,i.jsx)(n.th,{children:"Dev"}),(0,i.jsx)(n.th,{children:"Test/Stage"}),(0,i.jsx)(n.th,{children:"Prod"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"YAML provider"}),(0,i.jsx)(n.td,{children:"Enabled"}),(0,i.jsx)(n.td,{children:"Optional"}),(0,i.jsx)(n.td,{children:"Disabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"KVv2 providers"}),(0,i.jsx)(n.td,{children:"Optional"}),(0,i.jsx)(n.td,{children:"Enabled"}),(0,i.jsx)(n.td,{children:"Enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PDP enforcement"}),(0,i.jsx)(n.td,{children:"Optional"}),(0,i.jsx)(n.td,{children:"Enabled"}),(0,i.jsx)(n.td,{children:"Enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Scope enforcement"}),(0,i.jsx)(n.td,{children:"Optional"}),(0,i.jsx)(n.td,{children:"Optional"}),(0,i.jsx)(n.td,{children:"Enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"SSE events/audit buffer"}),(0,i.jsx)(n.td,{children:"Enabled"}),(0,i.jsx)(n.td,{children:"Optional"}),(0,i.jsx)(n.td,{children:"Disabled"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);