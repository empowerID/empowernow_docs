"use strict";(self.webpackChunkempowernow_docs=self.webpackChunkempowernow_docs||[]).push([[3802],{28453:(e,o,r)=>{r.d(o,{R:()=>t,x:()=>l});var n=r(96540);const s={},i=n.createContext(s);function t(e){const o=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),n.createElement(i.Provider,{value:o},e.children)}},64829:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>c,contentTitle:()=>l,default:()=>w,frontMatter:()=>t,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"services/bff/how-to/run-empowerid-workflow","title":"Run an EmpowerID workflow via BFF","description":"Goal: execute a configured EmpowerID workflow through the BFF.","source":"@site/docs/services/bff/how-to/run-empowerid-workflow.md","sourceDirName":"services/bff/how-to","slug":"/services/bff/how-to/run-empowerid-workflow","permalink":"/empowernow_docs/docs/services/bff/how-to/run-empowerid-workflow","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/services/bff/how-to/run-empowerid-workflow.md","tags":[{"inline":true,"label":"service:bff","permalink":"/empowernow_docs/docs/tags/service-bff"},{"inline":true,"label":"type:how-to","permalink":"/empowernow_docs/docs/tags/type-how-to"},{"inline":true,"label":"roles:developer","permalink":"/empowernow_docs/docs/tags/roles-developer"},{"inline":true,"label":"roles:admin","permalink":"/empowernow_docs/docs/tags/roles-admin"}],"version":"current","frontMatter":{"id":"run-empowerid-workflow","title":"Run an EmpowerID workflow via BFF","sidebar_label":"Run EmpowerID workflow","tags":["service:bff","type:how-to","roles:developer","roles:admin"]},"sidebar":"tutorialSidebar","previous":{"title":"Register BFF (PKJWT)","permalink":"/empowernow_docs/docs/services/bff/how-to/register-bff-private-key-jwt"},"next":{"title":"Admin Runbooks","permalink":"/empowernow_docs/docs/services/bff/how-to/runbooks"}}');var s=r(74848),i=r(28453);const t={id:"run-empowerid-workflow",title:"Run an EmpowerID workflow via BFF",sidebar_label:"Run EmpowerID workflow",tags:["service:bff","type:how-to","roles:developer","roles:admin"]},l=void 0,c={},d=[];function a(e){const o={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:"Goal: execute a configured EmpowerID workflow through the BFF."}),"\n",(0,s.jsx)(o.p,{children:"Prereqs"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Workflow defined in ",(0,s.jsx)(o.code,{children:"ServiceConfigs/BFF/config/empowerid_endpoints.yaml"})," under ",(0,s.jsx)(o.code,{children:"workflows.*"})]}),"\n",(0,s.jsx)(o.li,{children:"BFF session cookie present"}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Command"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:'curl -X POST https://.../api/v1/empowerid/workflow \\\r\n  -H "Content-Type: application/json" \\\r\n  --cookie "_eid_sid=..." \\\r\n  -d \'{"workflow_name":"PersonDelete","parameters":{"PersonID":"<GUID>"}}\'\n'})}),"\n",(0,s.jsx)(o.p,{children:"Troubleshooting"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["404: name not in catalog; check ",(0,s.jsx)(o.code,{children:"workflows.*"})]}),"\n",(0,s.jsxs)(o.li,{children:["403: PDP deny; confirm ",(0,s.jsx)(o.code,{children:"pdp_resource"}),"/",(0,s.jsx)(o.code,{children:"pdp_action"})," and user permissions"]}),"\n",(0,s.jsx)(o.li,{children:"401: BFF session missing"}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["See also: ",(0,s.jsx)(o.code,{children:"../reference/empowerid-direct"}),", ",(0,s.jsx)(o.code,{children:"./call-empowerid-webui"})]})]})}function w(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);